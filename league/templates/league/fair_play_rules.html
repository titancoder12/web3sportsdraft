{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <h2>Fair Play Rules for {{ league.name }}</h2>

  {% if messages %}
  <div class="messages">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}

  <div class="card mb-4">
    <div class="card-header">
      <h3>Current Rules</h3>
    </div>
    <div class="card-body">
      {% if rules %} {% for rule in rules %}
      <div class="mb-3">
        <h4>{{ rule.age_group }}</h4>
        <ul>
          <li>Minimum innings per player: {{ rule.min_innings_per_player }}</li>
          <li>
            Maximum consecutive bench innings: {{
            rule.max_consecutive_bench_innings }}
          </li>
          <li>Minimum plate appearances: {{ rule.min_plate_appearances }}</li>
          <li>
            Enforce plate appearance: {{
            rule.enforce_plate_appearance|yesno:"Yes,No" }}
          </li>
          <li>
            Enforce position rotation: {{
            rule.enforce_position_rotation|yesno:"Yes,No" }}
          </li>
          <li>
            Maximum innings per position: {{ rule.max_innings_per_position }}
          </li>
        </ul>
      </div>
      {% endfor %} {% else %}
      <p>No fair play rules have been set for this league yet.</p>
      {% endif %}
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <h3>Add/Update Rules</h3>
    </div>
    <div class="card-body">
      <form method="post">
        {% csrf_token %} {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Save Rules</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
