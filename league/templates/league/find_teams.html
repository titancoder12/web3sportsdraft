{% extends 'league/base.html' %}
{% block content %}
<div class="container mt-4">
  <h2>üîç Find a Team</h2>
  <p>Select a team you‚Äôd like to join. Your request will be sent to the coach for approval.</p>

  {% if available_teams %}
    <ul class="list-group mt-3">
      {% for team in available_teams %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ team.name }}</strong> <small class="text-muted">({{ team.division.name }})</small>
          </div>
          <form method="post" action="{% url 'request_join_team' team.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-sm btn-primary">Request to Join</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="alert alert-info mt-3">
      No teams currently available for request.
    </div>
  {% endif %}
</div>
{% endblock %}
